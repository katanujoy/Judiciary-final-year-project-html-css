<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Files - Judicial File Backup System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h3>üèõÔ∏è Judiciary System</h3>
                <p>File Backup & Management</p>
            </div>
            <ul class="sidebar-nav">
                <li class="nav-item"><a href="dashboard.html"><i>üìä</i> Dashboard</a></li>
                <li class="nav-item"><a href="cases.html"><i>üìÅ</i> Case Management</a></li>
                <li class="nav-item"><a href="upload.html"><i>üì§</i> File Upload</a></li>
                <li class="nav-item active"><a href="search.html"><i>üîç</i> Search Files</a></li>
                <li class="nav-item"><a href="backup.html"><i>üíæ</i> Backup Management</a></li>
                <li class="nav-item"><a href="users.html"><i>üë•</i> User Management</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <div>
                    <h2>Search Files</h2>
                    <p class="text-light">Search across all judicial documents and case files</p>
                </div>
                <div class="user-menu">
                    <span>Justice Joy Katanu</span>
                    <div class="badge badge-success">Judge</div>
                </div>
            </header>

            <div class="search-container">
                <!-- Search Box -->
                <div class="card">
                    <div class="card-body">
                        <form class="search-form" onsubmit="event.preventDefault(); performSearch()">
                            <div class="form-group">
                                <label class="form-label">Search Query</label>
                                <input type="search" class="form-control" placeholder="Enter case number, document title, or content keywords..." id="searchQuery">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Case Number</label>
                                <input type="text" class="form-control" placeholder="e.g., CR-2024-001">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Document Type</label>
                                <select class="form-control form-select">
                                    <option value="">All Types</option>
                                    <option>Court Ruling</option>
                                    <option>Evidence Document</option>
                                    <option>Witness Statement</option>
                                    <option>Affidavit</option>
                                    <option>Pleadings</option>
                                    <option>Exhibits</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Date Range</label>
                                <div class="d-flex gap-2">
                                    <input type="date" class="form-control" placeholder="From">
                                    <input type="date" class="form-control" placeholder="To">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Judge</label>
                                <select class="form-control form-select">
                                    <option value="">All Judges</option>
                                    <option>Justice Katanu</option>
                                    <option>Justice Mwangi</option>
                                    <option>Justice Omondi</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Search Options</label>
                                <div class="d-flex flex-column gap-1">
                                    <label class="d-flex align-center gap-2">
                                        <input type="checkbox" checked> Search in document content (OCR)
                                    </label>
                                    <label class="d-flex align-center gap-2">
                                        <input type="checkbox" checked> Search in file names
                                    </label>
                                    <label class="d-flex align-center gap-2">
                                        <input type="checkbox"> Search in metadata only
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-block" id="searchBtn">
                                    <span class="spinner" id="searchSpinner" style="display: none;"></span>
                                    Search Documents
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Search Results -->
                <div class="card mt-4">
                    <div class="card-header">
                        <h3>Search Results</h3>
                        <div class="text-light" id="resultsCount">Enter search criteria to find documents</div>
                    </div>
                    <div class="card-body">
                        <div id="search-results">
                            <div class="empty-state">
                                <i>üîç</i>
                                <h3>Ready to Search</h3>
                                <p>Enter your search criteria above to find judicial documents</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Search Tips -->
                <div class="card mt-4">
                    <div class="card-header">
                        <h3>Search Tips</h3>
                    </div>
                    <div class="card-body">
                        <div class="row" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-lg);">
                            <div>
                                <h4>Quick Search Examples</h4>
                                <ul style="color: var(--text-light); line-height: 1.8;">
                                    <li><code>CR-2024-001</code> - Find specific case</li>
                                    <li><code>"land dispute"</code> - Exact phrase</li>
                                    <li><code>evidence AND photo</code> - Both terms</li>
                                    <li><code>ruling OR judgment</code> - Either term</li>
                                </ul>
                            </div>
                            <div>
                                <h4>Document Types</h4>
                                <ul style="color: var(--text-light); line-height: 1.8;">
                                    <li>üìÑ Court Rulings & Judgments</li>
                                    <li>üì∑ Evidence Photos & Documents</li>
                                    <li>üìù Witness Statements</li>
                                    <li>‚úçÔ∏è Affidavits & Declarations</li>
                                    <li>üìã Pleadings & Motions</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
    <script>
        function performSearch() {
            const searchBtn = document.getElementById('searchBtn');
            const spinner = document.getElementById('searchSpinner');
            const searchQuery = document.getElementById('searchQuery').value;
            
            if (!searchQuery.trim()) {
                alert('Please enter a search query');
                return;
            }
            
            // Show loading state
            searchBtn.disabled = true;
            spinner.style.display = 'inline-block';
            searchBtn.innerHTML = 'Searching...';
            
            // Simulate search process
            setTimeout(() => {
                spinner.style.display = 'none';
                searchBtn.disabled = false;
                searchBtn.innerHTML = 'Search Documents';
                
                // Display mock results
                displaySearchResults(generateSearchResults());
                document.getElementById('resultsCount').textContent = 'Found 8 documents matching your search';
            }, 2000);
        }
        
        function generateSearchResults() {
            return [
                {
                    id: 1,
                    fileName: 'court_ruling_october_15.pdf',
                    caseNumber: 'CR-2024-001',
                    caseTitle: 'State vs. John Doe',
                    documentType: 'Court Ruling',
                    judge: 'Justice Katanu',
                    fileSize: '2.1 MB',
                    uploadDate: '2024-10-15',
                    relevance: 95,
                    excerpt: '...the court finds the evidence presented compelling and rules in favor of...'
                },
                {
                    id: 2,
                    fileName: 'witness_statement_john_smith.pdf',
                    caseNumber: 'CR-2024-001',
                    caseTitle: 'State vs. John Doe',
                    documentType: 'Witness Statement',
                    judge: 'Justice Katanu',
                    fileSize: '1.8 MB',
                    uploadDate: '2024-10-14',
                    relevance: 87,
                    excerpt: '...I witnessed the incident on October 1st and can confirm the events as described...'
                },
                {
                    id: 3,
                    fileName: 'evidence_photo_1.jpg',
                    caseNumber: 'CR-2024-001',
                    caseTitle: 'State vs. John Doe',
                    documentType: 'Evidence Document',
                    judge: 'Justice Katanu',
                    fileSize: '4.2 MB',
                    uploadDate: '2024-10-13',
                    relevance: 76,
                    excerpt: 'Photographic evidence showing the scene of the incident...'
                }
            ];
        }
        
        function displaySearchResults(results) {
            const container = document.getElementById('search-results');
            
            container.innerHTML = results.map(result => `
                <div class="search-result-item mb-3 p-3" style="border: 1px solid var(--border-color); border-radius: var(--border-radius);">
                    <div class="d-flex justify-between align-start mb-2">
                        <div class="flex-1">
                            <h4 style="color: var(--primary-color); margin-bottom: var(--spacing-xs);">
                                <a href="#" onclick="viewDocument(${result.id})">${result.fileName}</a>
                            </h4>
                            <div class="d-flex gap-3 mb-2" style="color: var(--text-light); font-size: var(--font-size-sm);">
                                <span><strong>Case:</strong> ${result.caseNumber} - ${result.caseTitle}</span>
                                <span><strong>Type:</strong> ${result.documentType}</span>
                                <span><strong>Judge:</strong> ${result.judge}</span>
                                <span><strong>Size:</strong> ${result.fileSize}</span>
                            </div>
                            <p style="color: var(--text-light); font-style: italic;">${result.excerpt}</p>
                        </div>
                        <div class="text-right">
                            <div class="badge badge-info">${result.relevance}% match</div>
                            <div class="mt-1" style="color: var(--text-light); font-size: var(--font-size-sm);">
                                ${result.uploadDate}
                            </div>
                        </div>
                    </div>
                    <div class="d-flex gap-1">
                        <button class="btn btn-sm btn-outline" onclick="viewDocument(${result.id})">üëÅÔ∏è View</button>
                        <button class="btn btn-sm btn-outline" onclick="downloadDocument(${result.id})">üì• Download</button>
                        <button class="btn btn-sm btn-outline" onclick="showDocumentInfo(${result.id})">‚ÑπÔ∏è Info</button>
                    </div>
                </div>
            `).join('');
        }
        
        function viewDocument(docId) {
            showNotification(`Opening document ${docId}...`, 'info');
        }
        
        function downloadDocument(docId) {
            showNotification(`Downloading document ${docId}...`, 'success');
        }
        
        function showDocumentInfo(docId) {
            showNotification(`Showing info for document ${docId}`, 'info');
        }
    </script>
</body>
</html>